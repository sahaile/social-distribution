<!--generated by Gemini 2.5pro, 2025-06-29-->
<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'; img-src *"> <!-- This creates a barrier for XSS for most cases. js contains many inline style attributes and we have an inline script that is difficult to move. We use external image links for profile pictures -->

    <title>Social Web App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/static/css/ui.css" />
  </head>
  <body>
    <div class="container">
      <!-- Left column: Profile -->
      <aside class="profile-section">
        <div class="profile-header">
          <a href="#" id="edit-link" title="Go to profile">
            <svg class="pen-icon" viewBox="0 0 24 24" fill="none">
              <path
                d="M15.232 5.232l3.536 3.536M16.732 3.732a2.5 2.5 0 113.536 3.536L7.5 20.036l-4 1 1-4L16.732 3.732z"
                stroke="#555"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </a>
        </div>
          <img
            class="profile-pic"
            src="/static/images/defaultprofile.webp"
            alt="Profile Picture"
          />
        <!-- default profile pic -->
        <div class="profile-info">
          <!-- Follower/Following stats will be on the first row -->
          <div class="profile-stats">
            <a
              href="#"
              id="following-link"
            >
              <strong id="following-count">0</strong> Following
            </a>
            <a
              href="#"
              id="followers-link"
            >
              <strong id="followers-count">0</strong> Followers
            </a>
            <a
              href="#"
              id="friends-link"
            >
              <strong id="friends-count">0</strong> Friends
            </a>
          </div>

          <!-- GitHub link will be on the second row -->
          <a
            href="https://github.com/yourname"
            class="github-link"
            target="_blank"
          >
            <svg
              id="gh-svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="#24292f"
            >
              <path
                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49C3.73 14.09 3.28 12.81 3.28 12.81c-.36-.92-.88-1.16-.88-1.16-.72-.49.05-.48.05-.48.8.06 1.22.83 1.22.83.71 1.22 1.87.87 2.33.66.07-.52.28-.87.51-1.07-2.22-.25-4.56-1.11-4.56-4.93 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.27.1-2.65 0 0 .84-.27 2.75 1.02A9.56 9.56 0 018 4.43c.85.004 1.71.12 2.51.35 1.9-1.29 2.74-1.02 2.74-1.02.55 1.38.2 2.4.1 2.65.64.7 1.03 1.59 1.03 2.68 0 3.83-2.34 4.68-4.57 4.92.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38C13.71 14.53 16 11.54 16 8c0-4.42-3.58-8-8-8z"
              ></path>
            </svg>
            yourname
          </a>
        </div>
        <form method="POST" action="/logout/">
          {% csrf_token %}
          <button type="submit">Logout</button>
        </form>
      </aside>

      <!-- Center column: Feed -->
      <main class="main-feed">
        <!-- Post Tweet Section -->
        <section class="post-tweet">
          <h2 id="post-tweet-text">Post a Tweet</h2>
          <form id="post-entry" method="post" action="javascript:void(0);">
            {% csrf_token %}

            <input 
              id="post_entry_title--input" 
              type="text" 
              name="title" 
              placeholder="Title of your post" 
            />
            <textarea
              id="post_entry_description--input"
              type="text"
              name="description"
              placeholder="Description of your post"></textarea>
            <textarea
              id="post_entry_content_text--input"
              type="text"
              name="content"
              placeholder="What's on your mind? (CommonMark supported)"></textarea>
            <input 
              id="post_entry_content_file--input"
              type="file"
              accept="image/*"
              name="content"
              hidden
            />
            <div id="post_entry_actions--div">
              <select id="post_entry_visibility--select" name="visibility">
                <option value="PUBLIC">Public</option>
                <option value="UNLISTED">Unlisted</option>
                <option value="FRIENDS">Friends-only</option>
              </select>

              <select id="post_entry_content_type--select" name="content-type">
                <option value="text/plain">Plain Text</option>
                <option value="text/markdown">Markdown</option>
                <option value="image">Image</option>
              </select>

              <button
                type="submit"
                id="submit-button"
              >
                Post
              </button>
            </div>
          </form>
          <div id="post-error"></div>
        </section>

        <!-- Tweets List -->
        <div class="tweet-list">
          <!-- Populated by JS -->
        </div>
      </main>

      <!-- Right column: Search, Friend Requests, Notifications -->
      <aside class="right-section">
        <section class="section">
          <h2 class="section-title">Search</h2>
          <input
            id="search-input"
            type="text"
            placeholder="Search authors..."
          />
          <div id="search-results-list">
            <!-- Search results will be populated here -->
          </div>
        </section>
        <section class="section">
          <h2 class="section-title">Friend Requests</h2>
          <div
            class="friend-requests-list"
          >
            <!-- Populated by JS -->
          </div>
        </section>
        <section class="section">
          <h2 class="section-title">Notifications</h2>
          <ul
            class="notifications-list"
          >
            <!-- Example Notifications -->
          </ul>
        </section>
      </aside>
    </div>
    <script type="module" src="{% static 'renderer.min.js' %}"></script>
    <script>
      window.currentUserSerial = '{{ current_user_uuid|escapejs }}'
      window.currentEntrySerial = '{{ current_entry_uuid|escapejs }}'
      window.currentEntryAuthorSerial = '{{ current_entry_author_uuid|escapejs }}'
      window.currentNodeName = '{{ current_node_name|escapejs }}'
    </script>
    <script type="module" src="{% static 'main(sessionauth).js' %}"></script>
    <!-- Uses session authentication -->
  </body>
</html>
